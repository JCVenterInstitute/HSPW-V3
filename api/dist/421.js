exports.id=421,exports.ids=[421],exports.modules={6421:(e,t,n)=>{"use strict";n.d(t,{U$:()=>an,Cw:()=>cn});var s=n(3362),o=n(9649),r=n(5856);const i={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class a extends r.sI{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}class c extends a{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class d extends a{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class l extends a{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class u extends a{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends a{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class h extends a{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class m extends a{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class g extends a{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,g.prototype)}}const y=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:r.oc}}),f=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}}),P=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:r.oc}}),S=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}});var w=n(3010),v=n(2002);const E=async(e,t)=>{const n=re;let s;return s=Ue({...z(e,t),[ae]:de,[He]:ie}),oe(t,n,"/",void 0,s)},b=async(e,t)=>{const n=re;let s;return s=Ue({...K(e,t),[ae]:pe,[He]:ie}),oe(t,n,"/",void 0,s)},I=async(e,t)=>{if(e.statusCode>=300)return x(e,t);const n=await(0,w.he)(e.body,t);let s={};return s=V(n.AssumeRoleResult,t),{$metadata:ne(e),...s}},A=async(e,t)=>{if(e.statusCode>=300)return x(e,t);const n=await(0,w.he)(e.body,t);let s={};return s=L(n.AssumeRoleWithWebIdentityResult,t),{$metadata:ne(e),...s}},x=async(e,t)=>{const n={...e,body:await(0,w.OH)(e.body,t)},s=Ge(e,n.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await C(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await T(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await O(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await j(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await R(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await D(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await k(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await $(n,t);default:const o=n.body;return se({output:e,parsedBody:o.Error,errorCode:s})}},C=async(e,t)=>{const n=e.body,s=B(n.Error,t),o=new c({$metadata:ne(e),...s});return(0,r.to)(o,n)},k=async(e,t)=>{const n=e.body,s=_(n.Error,t),o=new m({$metadata:ne(e),...s});return(0,r.to)(o,n)},R=async(e,t)=>{const n=e.body,s=Z(n.Error,t),o=new p({$metadata:ne(e),...s});return(0,r.to)(o,n)},$=async(e,t)=>{const n=e.body,s=J(n.Error,t),o=new g({$metadata:ne(e),...s});return(0,r.to)(o,n)},D=async(e,t)=>{const n=e.body,s=Q(n.Error,t),o=new h({$metadata:ne(e),...s});return(0,r.to)(o,n)},T=async(e,t)=>{const n=e.body,s=X(n.Error,t),o=new d({$metadata:ne(e),...s});return(0,r.to)(o,n)},O=async(e,t)=>{const n=e.body,s=ee(n.Error,t),o=new l({$metadata:ne(e),...s});return(0,r.to)(o,n)},j=async(e,t)=>{const n=e.body,s=te(n.Error,t),o=new u({$metadata:ne(e),...s});return(0,r.to)(o,n)},z=(e,t)=>{const n={};if(null!=e[ke]&&(n[ke]=e[ke]),null!=e[Re]&&(n[Re]=e[Re]),null!=e[Ee]){const s=W(e[Ee],t);0===e[Ee]?.length&&(n.PolicyArns=[]),Object.entries(s).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}if(null!=e[ve]&&(n[ve]=e[ve]),null!=e[fe]&&(n[fe]=e[fe]),null!=e[ze]){const s=U(e[ze],t);0===e[ze]?.length&&(n.Tags=[]),Object.entries(s).forEach((([e,t])=>{n[`Tags.${e}`]=t}))}if(null!=e[We]){const s=q(e[We],t);0===e[We]?.length&&(n.TransitiveTagKeys=[]),Object.entries(s).forEach((([e,t])=>{n[`TransitiveTagKeys.${e}`]=t}))}if(null!=e[Se]&&(n[Se]=e[Se]),null!=e[Oe]&&(n[Oe]=e[Oe]),null!=e[Ke]&&(n[Ke]=e[Ke]),null!=e[Te]&&(n[Te]=e[Te]),null!=e[Ie]){const s=M(e[Ie],t);0===e[Ie]?.length&&(n.ProvidedContexts=[]),Object.entries(s).forEach((([e,t])=>{n[`ProvidedContexts.${e}`]=t}))}return n},K=(e,t)=>{const n={};if(null!=e[ke]&&(n[ke]=e[ke]),null!=e[Re]&&(n[Re]=e[Re]),null!=e[Me]&&(n[Me]=e[Me]),null!=e[Ae]&&(n[Ae]=e[Ae]),null!=e[Ee]){const s=W(e[Ee],t);0===e[Ee]?.length&&(n.PolicyArns=[]),Object.entries(s).forEach((([e,t])=>{n[`PolicyArns.${e}`]=t}))}return null!=e[ve]&&(n[ve]=e[ve]),null!=e[fe]&&(n[fe]=e[fe]),n},W=(e,t)=>{const n={};let s=1;for(const o of e){if(null===o)continue;const e=H(o,t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},H=(e,t)=>{const n={};return null!=e[Fe]&&(n[Fe]=e[Fe]),n},Y=(e,t)=>{const n={};return null!=e[be]&&(n[be]=e[be]),null!=e[ye]&&(n[ye]=e[ye]),n},M=(e,t)=>{const n={};let s=1;for(const t of e){if(null===t)continue;const e=Y(t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},F=(e,t)=>{const n={};return null!=e[we]&&(n[we]=e[we]),null!=e[Ye]&&(n[Ye]=e[Ye]),n},q=(e,t)=>{const n={};let s=1;for(const t of e)null!==t&&(n[`member.${s}`]=t,s++);return n},U=(e,t)=>{const n={};let s=1;for(const t of e){if(null===t)continue;const e=F(t);Object.entries(e).forEach((([e,t])=>{n[`member.${s}.${e}`]=t})),s++}return n},G=(e,t)=>{const n={};return null!=e[le]&&(n[le]=(0,r.pY)(e[le])),null!=e[he]&&(n[he]=(0,r.pY)(e[he])),n},V=(e,t)=>{const n={};return null!=e[ge]&&(n[ge]=N(e[ge],t)),null!=e[ue]&&(n[ue]=G(e[ue])),null!=e[xe]&&(n[xe]=(0,r.AF)(e[xe])),null!=e[Te]&&(n[Te]=(0,r.pY)(e[Te])),n},L=(e,t)=>{const n={};return null!=e[ge]&&(n[ge]=N(e[ge],t)),null!=e[De]&&(n[De]=(0,r.pY)(e[De])),null!=e[ue]&&(n[ue]=G(e[ue])),null!=e[xe]&&(n[xe]=(0,r.AF)(e[xe])),null!=e[Ce]&&(n[Ce]=(0,r.pY)(e[Ce])),null!=e[me]&&(n[me]=(0,r.pY)(e[me])),null!=e[Te]&&(n[Te]=(0,r.pY)(e[Te])),n},N=(e,t)=>{const n={};return null!=e[ce]&&(n[ce]=(0,r.pY)(e[ce])),null!=e[$e]&&(n[$e]=(0,r.pY)(e[$e])),null!=e[je]&&(n[je]=(0,r.pY)(e[je])),null!=e[Pe]&&(n[Pe]=(0,r.CE)((0,r.aH)(e[Pe]))),n},B=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},_=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},Z=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},J=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},Q=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},X=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},ee=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},te=(e,t)=>{const n={};return null!=e[qe]&&(n[qe]=(0,r.pY)(e[qe])),n},ne=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),se=(0,r.PC)(a),oe=async(e,t,n,s,o)=>{const{hostname:r,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:r,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:t};return void 0!==s&&(d.hostname=s),void 0!==o&&(d.body=o),new v.aW(d)},re={"content-type":"application/x-www-form-urlencoded"},ie="2011-06-15",ae="Action",ce="AccessKeyId",de="AssumeRole",le="AssumedRoleId",ue="AssumedRoleUser",pe="AssumeRoleWithWebIdentity",he="Arn",me="Audience",ge="Credentials",ye="ContextAssertion",fe="DurationSeconds",Pe="Expiration",Se="ExternalId",we="Key",ve="Policy",Ee="PolicyArns",be="ProviderArn",Ie="ProvidedContexts",Ae="ProviderId",xe="PackedPolicySize",Ce="Provider",ke="RoleArn",Re="RoleSessionName",$e="SecretAccessKey",De="SubjectFromWebIdentityToken",Te="SourceIdentity",Oe="SerialNumber",je="SessionToken",ze="Tags",Ke="TokenCode",We="TransitiveTagKeys",He="Version",Ye="Value",Me="WebIdentityToken",Fe="arn",qe="message",Ue=e=>Object.entries(e).map((([e,t])=>(0,r.jc)(e)+"="+(0,r.jc)(t))).join("&"),Ge=(e,t)=>void 0!==t.Error?.Code?t.Error.Code:404==e.statusCode?"NotFound":void 0;class Ve extends(r.mY.classBuilder().ep({...i}).m((function(e,t,n,r){return[(0,o.p2)(n,this.serialize,this.deserialize),(0,s.a3)(n,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,f).ser(E).de(I).build()){}class Le extends(r.mY.classBuilder().ep({...i}).m((function(e,t,n,r){return[(0,o.p2)(n,this.serialize,this.deserialize),(0,s.a3)(n,e.getEndpointParameterInstructions())]})).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(P,S).ser(b).de(A).build()){}const Ne=async(e,t,n)=>{const s="function"==typeof e?await e():e,o="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (provider)`,`${o} (parent client)`,"us-east-1 (STS default)"),s??o??"us-east-1"};var Be=n(6848),_e=n(2831),Ze=n(1769),Je=n(6835),Qe=n(4879),Xe=n(3455),et=n(2326),tt=n(9880),nt=n(1369),st=n(8530);const ot=async(e,t,n)=>({operation:(0,st.J)(t).operation,region:await(0,st.$)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),rt=e=>{const t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},it=e=>()=>Promise.resolve().then(n.bind(n,7067)).then((({defaultProvider:t})=>t(e)()));var at=n(4589),ct=n(8012),dt=n(1262),lt=n(9805),ut=n(8690),pt=n(4487),ht=n(2022),mt=n(9347),gt=n(631),yt=n(3314),ft=n(3108),Pt=n(7847);const St="required",wt="type",vt="fn",Et="argv",bt="ref",It=!0,At="booleanEquals",xt="stringEquals",Ct="sigv4",kt="us-east-1",Rt="endpoint",$t="https://sts.{Region}.{PartitionResult#dnsSuffix}",Dt="tree",Tt="error",Ot="getAttr",jt={[St]:!1,[wt]:"String"},zt={[St]:!0,default:!1,[wt]:"Boolean"},Kt={[bt]:"Endpoint"},Wt={[vt]:"isSet",[Et]:[{[bt]:"Region"}]},Ht={[bt]:"Region"},Yt={[vt]:"aws.partition",[Et]:[Ht],assign:"PartitionResult"},Mt={[bt]:"UseFIPS"},Ft={[bt]:"UseDualStack"},qt={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Ct,signingName:"sts",signingRegion:kt}]},headers:{}},Ut={},Gt={conditions:[{[vt]:xt,[Et]:[Ht,"aws-global"]}],[Rt]:qt,[wt]:Rt},Vt={[vt]:At,[Et]:[Mt,!0]},Lt={[vt]:At,[Et]:[Ft,!0]},Nt={[vt]:Ot,[Et]:[{[bt]:"PartitionResult"},"supportsFIPS"]},Bt={[bt]:"PartitionResult"},_t={[vt]:At,[Et]:[!0,{[vt]:Ot,[Et]:[Bt,"supportsDualStack"]}]},Zt=[{[vt]:"isSet",[Et]:[Kt]}],Jt=[Vt],Qt=[Lt],Xt={version:"1.0",parameters:{Region:jt,UseDualStack:zt,UseFIPS:zt,Endpoint:jt,UseGlobalEndpoint:zt},rules:[{conditions:[{[vt]:At,[Et]:[{[bt]:"UseGlobalEndpoint"},It]},{[vt]:"not",[Et]:Zt},Wt,Yt,{[vt]:At,[Et]:[Mt,!1]},{[vt]:At,[Et]:[Ft,!1]}],rules:[{conditions:[{[vt]:xt,[Et]:[Ht,"ap-northeast-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"ap-south-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"ap-southeast-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"ap-southeast-2"]}],endpoint:qt,[wt]:Rt},Gt,{conditions:[{[vt]:xt,[Et]:[Ht,"ca-central-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"eu-central-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"eu-north-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"eu-west-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"eu-west-2"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"eu-west-3"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"sa-east-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,kt]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"us-east-2"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"us-west-1"]}],endpoint:qt,[wt]:Rt},{conditions:[{[vt]:xt,[Et]:[Ht,"us-west-2"]}],endpoint:qt,[wt]:Rt},{endpoint:{url:$t,properties:{authSchemes:[{name:Ct,signingName:"sts",signingRegion:"{Region}"}]},headers:Ut},[wt]:Rt}],[wt]:Dt},{conditions:Zt,rules:[{conditions:Jt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[wt]:Tt},{conditions:Qt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[wt]:Tt},{endpoint:{url:Kt,properties:Ut,headers:Ut},[wt]:Rt}],[wt]:Dt},{conditions:[Wt],rules:[{conditions:[Yt],rules:[{conditions:[Vt,Lt],rules:[{conditions:[{[vt]:At,[Et]:[It,Nt]},_t],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},[wt]:Rt}],[wt]:Dt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[wt]:Tt}],[wt]:Dt},{conditions:Jt,rules:[{conditions:[{[vt]:At,[Et]:[Nt,It]}],rules:[{conditions:[{[vt]:xt,[Et]:[{[vt]:Ot,[Et]:[Bt,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ut,headers:Ut},[wt]:Rt},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ut,headers:Ut},[wt]:Rt}],[wt]:Dt},{error:"FIPS is enabled but this partition does not support FIPS",[wt]:Tt}],[wt]:Dt},{conditions:Qt,rules:[{conditions:[_t],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ut,headers:Ut},[wt]:Rt}],[wt]:Dt},{error:"DualStack is enabled but this partition does not support DualStack",[wt]:Tt}],[wt]:Dt},Gt,{endpoint:{url:$t,properties:Ut,headers:Ut},[wt]:Rt}],[wt]:Dt}],[wt]:Dt},{error:"Invalid Configuration: Missing Region",[wt]:Tt}]},en=(e,t={})=>(0,Pt.B1)(Xt,{endpointParams:e,logger:t.logger});var tn=n(7005);var nn=n(8596);const sn=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}};class on extends r.KU{constructor(...[e]){const t=(n=(e=>{(0,r.H_)(process.version);const t=(0,tn.j)(e),n=()=>t().then(r.jv),s=(e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??yt.G,base64Encoder:e?.base64Encoder??yt.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??en,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??rt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new ct.V},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xe.oH}],logger:e?.logger??new r.vk,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??gt.e,utf8Decoder:e?.utf8Decoder??ft.$x,utf8Encoder:e?.utf8Encoder??ft.GZ}))(e);return(0,at.H)(process.version),{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ht.W,credentialDefaultProvider:e?.credentialDefaultProvider??it,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,dt.fV)({serviceId:s.serviceId,clientVersion:"3.529.1"}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await it(e?.__config||{})()),signer:new ct.V},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Xe.oH}],maxAttempts:e?.maxAttempts??(0,ut.M)(tt.Hs),region:e?.region??(0,ut.M)(Qe._c,Qe.zb),requestHandler:pt.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,ut.M)({...tt.aK,default:async()=>(await n()).retryMode||mt.CA}),sha256:e?.sha256??lt.k.bind(null,"sha256"),streamCollector:e?.streamCollector??pt.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ut.M)(Qe.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,ut.M)(Qe.NL)}})(e||{}),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,useGlobalEndpoint:n.useGlobalEndpoint??!1,defaultSigningName:"sts"});var n;const o=(0,Qe.Xb)(t),i=(0,s.uW)(o),a=(0,tt.BC)(i),c=(0,Be.S8)(a),d=((e,t)=>{const n={...(0,nn.GW)(e),...(0,r.kE)(e),...(0,v.cA)(e),...sn(e)};return t.forEach((e=>e.configure(n))),{...e,...(0,nn.A1)(n),...(0,r.SQ)(n),...(0,v.AO)(n),...(s=n,{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()})};var s})((e=>{const t=(n=e,{...n,stsClientCtor:on});var n;return{...(0,nt.K)(t)}})((0,Je.er)(c)),e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,tt.NQ)(this.config)),this.middlewareStack.use((0,et.VG)(this.config)),this.middlewareStack.use((0,Be.G2)(this.config)),this.middlewareStack.use((0,_e.cV)(this.config)),this.middlewareStack.use((0,Ze.eV)(this.config)),this.middlewareStack.use((0,Je.XJ)(this.config)),this.middlewareStack.use((0,Xe.tZ)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,Xe.aZ)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return ot}getIdentityProviderConfigProvider(){return async e=>new Xe.K5({"aws.auth#sigv4":e.credentials})}}const rn=(e,t)=>t?class extends e{constructor(e){super(e);for(const e of t)this.middlewareStack.use(e)}}:e,an=(e={},t)=>((e,t)=>{let n,s;return async(o,r)=>{if(s=o,!n){const{logger:o=e?.parentClientConfig?.logger,region:r,requestHandler:i=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,c=await Ne(r,e?.parentClientConfig?.region,a);n=new t({credentialDefaultProvider:()=>async()=>s,region:c,requestHandler:i,logger:o})}const{Credentials:i}=await n.send(new Ve(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,credentialScope:i.CredentialScope}}})(e,rn(on,t)),cn=(e={},t)=>((e,t)=>{let n;return async s=>{if(!n){const{logger:s=e?.parentClientConfig?.logger,region:o,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:i}=e,a=await Ne(o,e?.parentClientConfig?.region,i);n=new t({region:a,requestHandler:r,logger:s})}const{Credentials:o}=await n.send(new Le(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,credentialScope:o.CredentialScope}}})(e,rn(on,t))}};
//# sourceMappingURL=421.js.map