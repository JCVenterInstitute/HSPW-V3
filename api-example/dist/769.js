exports.id=769,exports.ids=[769],exports.modules={8150:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GetRoleCredentialsCommand:()=>z,SSOClient:()=>De});var o=s(3362),n=s(9649),r=s(5856);const i={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class a extends r.sI{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}class c extends a{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class d extends a{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class u extends a{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends a{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}const l=e=>({...e,...e.accessToken&&{accessToken:r.oc}}),h=e=>({...e,...e.secretAccessKey&&{secretAccessKey:r.oc},...e.sessionToken&&{sessionToken:r.oc}}),m=e=>({...e,...e.roleCredentials&&{roleCredentials:h(e.roleCredentials)}});var g=s(8328),y=s(3455);const f=async(e,t)=>{const s=(0,y.cu)(e,t),o=(0,r.UI)({},k,{[D]:e[A]});s.bp("/federation/credentials");const n=(0,r.UI)({[O]:[,(0,r.CE)(e[q],"roleName")],[R]:[,(0,r.CE)(e[C],"accountId")]});return s.m("GET").h(o).q(n).b(void 0),s.build()},P=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return S(e,t);const s=(0,r.UI)({$metadata:E(e)}),o=(0,r.CE)((0,r.Wh)(await(0,g.e1)(e.body,t)),"body"),n=(0,r.qn)(o,{roleCredentials:r.F3});return Object.assign(s,n),s},S=async(e,t)=>{const s={...e,body:await(0,g.fk)(e.body,t)},o=(0,g.mJ)(e,s.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await b(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await x(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await w(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await I(s,t);default:const n=s.body;return v({output:e,parsedBody:n,errorCode:o})}},v=(0,r.PC)(a),b=async(e,t)=>{const s=(0,r.UI)({}),o=e.body,n=(0,r.qn)(o,{message:r.pY});Object.assign(s,n);const i=new c({$metadata:E(e),...s});return(0,r.to)(i,e.body)},x=async(e,t)=>{const s=(0,r.UI)({}),o=e.body,n=(0,r.qn)(o,{message:r.pY});Object.assign(s,n);const i=new d({$metadata:E(e),...s});return(0,r.to)(i,e.body)},w=async(e,t)=>{const s=(0,r.UI)({}),o=e.body,n=(0,r.qn)(o,{message:r.pY});Object.assign(s,n);const i=new u({$metadata:E(e),...s});return(0,r.to)(i,e.body)},I=async(e,t)=>{const s=(0,r.UI)({}),o=e.body,n=(0,r.qn)(o,{message:r.pY});Object.assign(s,n);const i=new p({$metadata:E(e),...s});return(0,r.to)(i,e.body)},E=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),k=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),C="accountId",A="accessToken",R="account_id",q="roleName",O="role_name",D="x-amz-sso_bearer_token";class z extends(r.mY.classBuilder().ep({...i}).m((function(e,t,s,r){return[(0,n.p2)(s,this.serialize,this.deserialize),(0,o.a3)(s,e.getEndpointParameterInstructions())]})).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(l,m).ser(f).de(P).build()){}var U=s(6848),F=s(2831),$=s(1769),j=s(6835),M=s(4879),H=s(2326),N=s(9880),G=s(1369),T=s(8530);const V=async(e,t,s)=>({operation:(0,T.J)(t).operation,region:await(0,T.$)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),B=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t};var K=s(4589),L=s(1262),_=s(9805),W=s(8690),Y=s(4487),J=s(2022),Z=s(9347),Q=s(8012),X=s(631),ee=s(3314),te=s(3108),se=s(7847);const oe="required",ne="fn",re="argv",ie="ref",ae="isSet",ce="booleanEquals",de="error",ue="endpoint",pe="tree",le="PartitionResult",he="getAttr",me={[oe]:!1,type:"String"},ge={[oe]:!0,default:!1,type:"Boolean"},ye={[ie]:"Endpoint"},fe={[ne]:ce,[re]:[{[ie]:"UseFIPS"},!0]},Pe={[ne]:ce,[re]:[{[ie]:"UseDualStack"},!0]},Se={},ve={[ne]:he,[re]:[{[ie]:le},"supportsFIPS"]},be={[ie]:le},xe={[ne]:ce,[re]:[!0,{[ne]:he,[re]:[be,"supportsDualStack"]}]},we=[fe],Ie=[Pe],Ee=[{[ie]:"Region"}],ke={version:"1.0",parameters:{Region:me,UseDualStack:ge,UseFIPS:ge,Endpoint:me},rules:[{conditions:[{[ne]:ae,[re]:[ye]}],rules:[{conditions:we,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:de},{conditions:Ie,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:de},{endpoint:{url:ye,properties:Se,headers:Se},type:ue}],type:pe},{conditions:[{[ne]:ae,[re]:Ee}],rules:[{conditions:[{[ne]:"aws.partition",[re]:Ee,assign:le}],rules:[{conditions:[fe,Pe],rules:[{conditions:[{[ne]:ce,[re]:[!0,ve]},xe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},type:ue}],type:pe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:de}],type:pe},{conditions:we,rules:[{conditions:[{[ne]:ce,[re]:[ve,!0]}],rules:[{conditions:[{[ne]:"stringEquals",[re]:[{[ne]:he,[re]:[be,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Se,headers:Se},type:ue},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Se,headers:Se},type:ue}],type:pe},{error:"FIPS is enabled but this partition does not support FIPS",type:de}],type:pe},{conditions:Ie,rules:[{conditions:[xe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Se,headers:Se},type:ue}],type:pe},{error:"DualStack is enabled but this partition does not support DualStack",type:de}],type:pe},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Se,headers:Se},type:ue}],type:pe}],type:pe},{error:"Invalid Configuration: Missing Region",type:de}]},Ce=(e,t={})=>(0,se.B1)(ke,{endpointParams:e,logger:t.logger});var Ae=s(7005);var Re=s(8596),qe=s(2002);const Oe=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(e){const s=t.findIndex((t=>t.schemeId===e.schemeId));-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){o=e},credentials:()=>o}};class De extends r.KU{constructor(...[e]){const t=(e=>{(0,r.H_)(process.version);const t=(0,Ae.j)(e),s=()=>t().then(r.jv),o=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ee.G,base64Encoder:e?.base64Encoder??ee.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ce,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??B,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Q.V},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new y.oH}],logger:e?.logger??new r.vk,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??X.e,utf8Decoder:e?.utf8Decoder??te.$x,utf8Encoder:e?.utf8Encoder??te.GZ}))(e);return(0,K.H)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??J.W,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,L.fV)({serviceId:o.serviceId,clientVersion:"3.529.1"}),maxAttempts:e?.maxAttempts??(0,W.M)(N.Hs),region:e?.region??(0,W.M)(M._c,M.zb),requestHandler:Y.NA.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,W.M)({...N.aK,default:async()=>(await s()).retryMode||Z.CA}),sha256:e?.sha256??_.k.bind(null,"sha256"),streamCollector:e?.streamCollector??Y.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,W.M)(M.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,W.M)(M.NL)}})(e||{}),s=(n=t,{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var n;const i=(0,M.Xb)(s),a=(0,o.uW)(i),c=(0,N.BC)(a),d=(0,U.S8)(c);var u;const p=((e,t)=>{const s={...(0,Re.GW)(e),...(0,r.kE)(e),...(0,qe.cA)(e),...Oe(e)};return t.forEach((e=>e.configure(s))),{...e,...(0,Re.A1)(s),...(0,r.SQ)(s),...(0,qe.AO)(s),...(o=s,{httpAuthSchemes:o.httpAuthSchemes(),httpAuthSchemeProvider:o.httpAuthSchemeProvider(),credentials:o.credentials()})};var o})((u=(0,j.er)(d),{...(0,G.K)(u)}),e?.extensions||[]);super(p),this.config=p,this.middlewareStack.use((0,N.NQ)(this.config)),this.middlewareStack.use((0,H.VG)(this.config)),this.middlewareStack.use((0,U.G2)(this.config)),this.middlewareStack.use((0,F.cV)(this.config)),this.middlewareStack.use((0,$.eV)(this.config)),this.middlewareStack.use((0,j.XJ)(this.config)),this.middlewareStack.use((0,y.tZ)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,y.aZ)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return V}getIdentityProviderConfigProvider(){return async e=>new y.K5({"aws.auth#sigv4":e.credentials})}}}};
//# sourceMappingURL=769.js.map